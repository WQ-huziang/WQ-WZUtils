SET(CLASS_FILE UdpPiper)
<<<<<<< HEAD
#SET(MAIN_FILE testClient)
SET(MAIN_FILE testServer)
#SET(MAIN_FILE testServer testClient)
=======
SET(MAIN_FILE testClient)
#SET(MAIN_FILE testServer)
>>>>>>> ee4aef9acb823f0e0a64c913562f1e4a823c4464
SET(UTILS_SO iniparser)

SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11 -g")  

FOREACH(f ${CLASS_FILE})
	ADD_LIBRARY(${f} SHARED ${f}.cpp)
	#ADD_LIBRARY(${f} STATIC ${f}.cpp)
	#SET_TARGET_PROPERTIES(${f} PROPERTIES VERSION 1.2 SOVERSION 1)
	#SET_TARGET_PROPERTIES(${f}_static PROPERTIES OUTPUT_NAME "${f}")
	#SET_TARGET_PROPERTIES(${f} PROPERTIES CLEAN_DIRECT_OUTPUT 1)
	#SET_TARGET_PROPERTIES(${f}_static PROPERTIES CLEAN_DIRECT_OUTPUT 1)
ENDFOREACH(f)

LINK_DIRECTORIES(${LIBRARY_OUTPUT_PATH})
ADD_EXECUTABLE(${MAIN_FILE} ${MAIN_FILE}.cpp)
TARGET_LINK_LIBRARIES(${MAIN_FILE} ${CLASS_FILE} ${UTILS_SO} logger glog)
